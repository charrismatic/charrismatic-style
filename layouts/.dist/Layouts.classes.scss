// GOALS:
// SYSTEM SHOULD WRAP MAIN PAGE ELEMENTS INTO A SINGLE GROUP
// PREVENT PAGES FROM COLLAPSING VERTICALLY WHEN CONTENT IS SHORTER THAN VIEWPORT
// CLEANLY SEPERATE GROUPS AND UTILITY CLASSES
// DO NOT USE IDS TO APPLY STYLE
// MINIMIZE OVERLY SPECIFIC AND SINGLE INSTANCE ELEMENTS (USE ATOMIC CLASES OR MIXINS INSTEAD)
// ------------------------------------------------------------------------


// BASE


html,
body {
  position: relative;
  display: block;
  padding: 0;
  margin: 0;
  // min-height: 100%;
}


// A SECTION IS A HIGH LEVEL SEMANTIC BLOCK
// SECTIONS SHOULD SPAN 100% OF THE HORIZONTAL SPACE
// OF ITS PARENT CONTAINER
// HEADER AND FOOTER ARE SECTIONS WITH SPECIFIC CONTEXT
header,
footer,
section {
  display: block;
  position: relative;
  margin: initial;
  max-width: 100%;
}


// NOTE: INCONSISTENT, USE ONLY WHEN NEEDED

// HTML
// html {
//   height: 100vh;
// }

// BODY
// body {
//   height: 100%;
//   min-width: 360px;
// }

// sticky footer
// SITE CONTAINER
// .site_container {
//   // height: 100%;
//   display: flex;
//   min-height: 100%;
//   flex-direction: column;
//   justify-content: space-between;
//
//   .site__header  { flex: 0; }
//   .site__content { flex: 1; }
//   .site__footer  { flex: 0; }
//
//   .site__content {
//     display: flex;
//
//     > .content_container {
//       flex: 1;
//     }
//   }
// }

.container {
  margin-left: auto;
  margin-right: auto;
}

// A ROW IS AN INNER WRAPPER THAT SETS LAYOUTS, BOUNDARIES, AND PADDING
.row {
  margin-left: auto;
  margin-right: auto;
  display: block;
  width: 90%;
}

.vpad { padding-top: 1em; padding-bottom: 1em; }
.vpad2 { padding-top: 2em; padding-bottom: 2em; }
.hpad { padding-left: 1em; padding-right: 1em; }
.hpad2 { padding-left: 2em; padding-right: 2em; }


// CONTENT BLOCKS ARE CONTAINERS THAT WRAP CMS / STATIC CONTENT
// USUALLY THAT COME FROM WYSIWYG EDITOR
// CHILD ELEMENTS WILL RENDER DEFAULT HTML STYLES INSTEAD OF
// NORMAILZED OR RESET STYLES
.content-block {
  display: block;
  padding: 1em;

  &:first-of-type {
    padding-top: 0;
  }
}


// CONTENT CONTAINER
.site__content {
  display: flex;
  // flex-wrap: wrap;
  // justify-content: space-between;
  // color: white;

  .sidebar { flex: 0 1 auto; }
  .content { flex: 1 1 auto; }
  .sidebar { order: 0; }
  .content { order: 1; }

  &.sidebar_right {
    .sidebar { order: 1; }
    .content { order: 0; }
  }
}
////
/// @group layout
////

///*---
/// title: Aspect Ratio
/// section: Layout
/// ---
///
/// ASPECT RATIO HELPER CLASSES
///
/// This is for fluid media that is embedded from third party sites like youtube, vimeo etc.
/// Wrap the outer element in aspect-ratio and then extend it with the desired ratio i.e
/// Make sure there are no height and width attributes on the embedded media.
/// Adapted from: https://github.com/suitcss/components-flex-embed
/// and https://github.com/tachyons-css/tachyons-aspect-ratios
///
/// source: http://tachyons.io
///
/// <section class="styleguide_section">
/// <div class="wireframe_guides">
///     <div class="box__outer">
///       <div class="box__inner aspect_ratio--content">
///         <p class="box__title">Title</p>
///       </div>
///     </div>
/// </div>
/// </section>
///
///*/

.aspect_ratio {
  position: relative;
  height: 0;

  &--16x9 { padding-bottom: 56.25%; }
  &--9x16 { padding-bottom: 177.77%; }
  &--4x3 { padding-bottom: 75%; }
  &--3x4 { padding-bottom: 133.33%; }
  &--6x4 { padding-bottom: 66.6%; }
  &--4x6 { padding-bottom: 150%; }
  &--8x5 { padding-bottom: 62.5%; }
  &--5x8 { padding-bottom: 160%; }
  &--7x5 { padding-bottom: 71.42%; }
  &--5x7 { padding-bottom: 140%; }
  &--1x1 { padding-bottom: 100%; }

  &--rect {
    padding: 0;
    padding-bottom: 66.6666%;
    width: 100%;
    height: 0;
  }

  &--content {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: 100;
    width: 100%;
    height: 100%;
  }
}
.page_opts {
  &--hide-page-header {
    .entry__header { display: none; }
  }

  &--hide-page-title {
    .entry-title { display: none; }
  }

  &--hide-page-meta {
    .entry__meta { display: none; }
  }
}

.banner_section {
  .content_wrap,
  .content_html,
  .content_image {
    margin-left: auto;
    margin-right: auto;
  }
}

.content_image {
  img.img-center { display: block; margin-left: auto; margin-right: auto; }
  img.img-contain { display: block; max-width: 100%; max-height: 100%; }
}


.section_full {
  .content_image {
    background: rgb(220, 214, 206);
    border-left: 1px solid #eeeeee;
    border-right: 1px solid #eeeeee;
  }
}

.section {
  &_default {}
  &_split {}
  &_flex {}
  &_full { max-width: none !important; }
}

// CORE STRUCTURE
.section {
  // CHILD SELECTOR
  &:first-child { .page-wrap { padding-top: 0; } }

  // SIZING CLASSES
  &_w-1000 { .section_wrap { max-width: 1000px; }}
  &_w-1200 { .section_wrap { max-width: 1200px; }}
  &_w-1100 { .section_wrap { max-width: 1100px; }}
  &_w-1300 { .section_wrap { max-width: 1300px; }}
  &_w-1400 { .section_wrap { max-width: 1400px; }}
  &_w-full { .section_wrap { max-width: none; width: 100%; }}
}

.section_full {
  > .row {
    padding: 0;
    margin: 0;
    max-width: none;
  }
}

.page-wrap {
  width: 90%;
  min-height: 0;
  padding: 1em 0;
  overflow: unset;

  // 700
  @include max_width(_size(tablet_lg)) {
    padding: 1em 0;
  }

  // > 490
  @include max_width(_size(tablet_sm)) {
    width: auto;
    padding: 1em 1.5em;
  }

  // > 375
  @include max_width(_size(mobile_lg)) {
    padding: 1em 1em;
  }
}

// SECTION LAYOUT PLACEHOLDERS
.section_split {
  padding-top: 0;

  .page-wrap {
    display: block;

    @include max_width(_size(tablet_sm)) {
      width: auto;
      margin: 0;
      padding: 0;
    }
  }

  .section_wrap {
    width: auto;
    margin: 1em 2em;
  }

  .section_wrap__img-wrap {
    @include max_width( _size(tablet_sm)) {

    }
  }

  // DESKTOP
  @include min_width(_size(tablet_sm)) {
    .page-wrap { display: flex; }

    .section__image-wrap {
      flex: 1 1 100%;
      align-self: stretch;
      margin: 0 1em 0 0;
    }

    .section__content-wrap {
      align-self: center;
      flex: 1 1 100%;
      margin: 1em 0 0 2em;
    }
  }
}


// // SPLIT - IMAGE ON LEFT
// .split_layout__img_left {
//   @extend %section_layout--split;
//   .lp-section-image-wrap { order: 0; }
//   .lp-section-content-wrap { order: 1; }
// }
// // SPLIT - IMAGE ON RIGHT
// .split_layout--img-right {
//   @extend %section_layout--split;
//   .lp-section-image-wrap { order: 2; }
//   .lp-section-content-wrap { order: 1; }
// }

// FEATURED IMAGE WRAPPER
.section__image-wrap {
  display: block;
  position: relative;
  min-width: 200px;
  padding-bottom: 50%;
  height: auto;

  .section__image {
    background-size: cover;
    background-repeat: no-repeat;
    background-position: 50%;
    display: block;
    height: 100%;
    position: absolute;
    width: 100%;
  }
}


// SECTION CONTENT WRAPPER
.section__content-wrap {
  display: block;
  margin: 1.5em 0 0 0;
}


// SECTION BANNER LAYOUT
.banner__image {
  padding: 2em 0 1em;

  @include max_width(_size(tablet_lg)) {
    padding: 0;
    .lp-section-image-wrap { margin: 0; }
  }

  .page-wrap {
    padding: 0;

    @include max_width(_size(tablet_sm)) {
      width: 100%;
    }
  }
  .section__content-wrap { display: none; }
}

// CENTERED
.centered_content {
  margin: auto;
  text-align: center;
}

// FLEX GRID
.flex-grid-section .lp-section-content-wrap {
  display: flex;
  flex-wrap: wrap;
}



section.no_pad {
  margin-top: 0;
  margin-bottom: 0;
  padding: 0;

  .page-wrap {
    margin-top: 0;
    margin-bottom: 0;
    padding: 0;
  }

  .section_content-wrap {
    margin-top: 0;
    margin-bottom: 0;
  }

  .card__title-card {
    padding: .4em 0;
    margin-top: 0;
    margin-bottom: 0;

    h2 {
      margin-top: 0;
      margin-bottom: 0;
    }
  }
}
///* ---
/// title: Aspect Ratio
/// section: Layout
/// ---
///
/// Max Width Wrapper Class
///
/// Use on inner section rows/wraps to keep content from extending to the browser wall
///
/// | class           | width  | class      | width |
/// | --------------- | ------ | ---------- | ---- |
/// | max_width--none | none   | width--0    | 0    |
/// | max_width--500  | 500px  | width--10p  | 10%  |
/// | max_width--600  | 600px  | width--20p  | 20%  |
/// | max_width--700  | 700px  | width--30p  | 30%  |
/// | max_width--800  | 800px  | width--40p  | 40%  |
/// | max_width--900  | 900px  | width--50p  | 50%  |
/// | max_width--1000 | 1000px | width--60p  | 60%  |
/// | max_width--1100 | 1100px | width--70p  | 70%  |
/// | max_width--1200 | 1200px | width--80p  | 80%  |
/// | max_width--1300 | 1300px | width--90p  | 90%  |
/// | max_width--1400 | 1400px | width--100p | 100% |
/// | max_width--1500 | 1500px | width--auto | auto |
///
/// <section class="styleguide_section wireframe_guides">
///   <div class="row box__outer max_width--500"><span class="item__label">max_width--500</span>   </div>
///   <div class="row box__outer max_width--600"><span class="item__label">max_width--600</span>   </div>
///   <div class="row box__outer max_width--700"><span class="item__label">max_width--700</span>   </div>
///   <div class="row box__outer max_width--800"><span class="item__label">max_width--800</span>   </div>
///   <div class="row box__outer max_width--900"><span class="item__label">max_width--900</span>   </div>
///   <div class="row box__outer max_width--1000"><span class="item__label">max_width--1000</span> </div>
///   <div class="row box__outer max_width--1200"><span class="item__label">max_width--1200</span> </div>
///   <div class="row box__outer max_width--none"><span class="item__label">max_width--none</span> </div>
/// </section>
///
/// <section class="styleguide_section wireframe_guides">
///   <div class="row box__outer width--10p "><span class="item__label">width--10p</span>   </div>
///   <div class="row box__outer width--20p "><span class="item__label">width--20p</span>   </div>
///   <div class="row box__outer width--30p "><span class="item__label">width--30p</span>   </div>
///   <div class="row box__outer width--40p "><span class="item__label">width--40p</span>   </div>
///   <div class="row box__outer width--50p "><span class="item__label">width--50p</span>   </div>
///   <div class="row box__outer width--60p "><span class="item__label">width--60p</span> </div>
///   <div class="row box__outer width--70p "><span class="item__label">width--70p</span> </div>
///   <div class="row box__outer width--80p "><span class="item__label">width--80p</span> </div>
///   <div class="row box__outer width--90p "><span class="item__label">width--90p</span> </div>
///   <div class="row box__outer width--100p"><span class="item__label">width--100p</span> </div>
/// </section>
///
///*/

.minw {
  &-100 { min-width: 100px; }
  &-150 { min-width: 150px; }
  &-200 { min-width: 200px; }
  &-250 { min-width: 250px; }
  &-300 { min-width: 300px; }
  &-350 { min-width: 350px; }
  &-400 { min-width: 400px; }
  &-500 { min-width: 500px; }
  &-600 { min-width: 600px; }
  &-700 { min-width: 700px; }
  &-800 { min-width: 800px; }
  &-900 { min-width: 900px; }
  &-1000 { min-width: 1000px; }
  &-0 { min-width: none !important; }
  &-none { min-width: none !important; }
}

.maxw {
  &-500 { max-width: 500px; }
  &-600 { max-width: 600px; }
  &-700 { max-width: 700px; }
  &-800 { max-width: 800px; }
  &-900 { max-width: 900px; }
  &-1000 { max-width: 1000px; }
  &-1100 { max-width: 1100px; }
  &-1200 { max-width: 1200px; }
  &-1300 { max-width: 1300px; }
  &-1400 { max-width: 1400px; }
  &-1500 { max-width: 1500px; }
  &-none { max-width: none !important; }

}

.w {
  &-0    { width: 0    }
  &-10p  { width: 10%  }
  &-20p  { width: 20%  }
  &-30p  { width: 30%  }
  &-40p  { width: 40%  }
  &-50p  { width: 50%  }
  &-60p  { width: 60%  }
  &-70p  { width: 70%  }
  &-80p  { width: 80%  }
  &-90p  { width: 90%  }
  &-100p { width: 100% }
  &-auto { width: auto }
}
///*---
/// title: Flex Helpers
/// section: Layout
/// ---

/// WRAP
///
/// - flex_wrap { flex-wrap: wrap; }
/// - flex_nowrap { flex-wrap: nowrap; }
///
/// FLEX ALIGN AND DISTRIBUTE
///
/// SELF
///
/// - fl_self--end      - justify-self: flex-end
/// - fl_self--start    - justify-self: flex-start
/// - fl_self--center   - justify-self: center
/// - fl_self--top      - align-self: flex-start
/// - fl_self--bottom   - align-self: flex-end
/// - fl_self--middle   - align-self: center
///
/// ALIGN ITEMS
///
/// - fl_align--stretch - align-items: stretch
/// - fl_align--center  - align-items: center
/// - fl_align--start   - align-items: flex-start
/// - fl_align--end     - align-items: flex-end
///
/// JUSTIFY CONTENT
///
///
/// _Shorthand_
///
/// - fl--distribute    - justify-content: space-around
/// - fl--spread        - justify-content: space-between
/// - fl--start         - justify-content: flex-start
/// - fl--end           - justify-content: flex-end
///
/// _Full Name_
///
/// - flex_start        - justify-content: flex-start
/// - flex_end          - justify-content: flex-end
/// - flex_center       - justify-content: center
/// - flex_between      - justify-content: space-between
/// - flex_around       - justify-content: space-around
///
///
///ELEMENT SIZING
///
///- fl_grow           - flex-grow: 1
///- fl_shrink         - flex-shrink: 1
///- fl--equal         - flex-basis: 0
///- fl--fill          - flex-basis: 100%
///- fl--auto          - flex-basis: auto
///- flex_grow         - flex-grow: 1
///- flex_shrink       - flex-shrink: 1
///- flex_basis-none   - flex-basis: 0;
///- flex_basis-max    - flex-basis: 100%
///- flexible          - flex: 1 1 auto
///
///FLEX BASIS
///
///- fl_10  - flex-basis: 10%
///- fl_15  - flex-basis: 15%
///- fl_20  - flex-basis: 20%
///- fl_25  - flex-basis: 25%
///- fl_30  - flex-basis: 30%
///- fl_35  - flex-basis: 35%
///- fl_40  - flex-basis: 40%
///- fl_45  - flex-basis: 45%
///- fl_50  - flex-basis: 50%
///- fl_55  - flex-basis: 55%
///- fl_60  - flex-basis: 60%
///- fl_65  - flex-basis: 65%
///- fl_70  - flex-basis: 70%
///- fl_75  - flex-basis: 75%
///- fl_80  - flex-basis: 80%
///- fl_85  - flex-basis: 85%
///- fl_90  - flex-basis: 90%
///- fl_95  - flex-basis: 95%
///- fl_100 -  flex-basis: 100
///*/


/// SEMANTIC CLASSES
/// (FULLY SPELLED OUT AND NAMED BY PROPERTY)
/// ----------------
.flex {
  // SIZING
  &_auto { flex-basis: auto; }
  &_basis-max { flex-basis: 100%; }
  &_basis-none { flex-basis: 0; }
  &_equal { flex-basis: 0; }
  &_fill { flex-basis: 100%; }
  &_grow { flex-grow: 1; }
  &_nogrow { flex-grow: 0; }
  &_noshrink { flex-shrink: 0; }
  &_shrink { flex-shrink: 1; }

  // ALIGNMENT
  &-start { justify-content: flex-start; }
  &-end { justify-content: flex-end; }
  &-center { justify-content: center; }
  &-between { justify-content: space-between; }
  &-around { justify-content: space-around; }

  // WRAPPING
  &-wrap { flex-wrap: wrap; }
  &-nowrap { flex-wrap: nowrap; }
}

// DISTRIBUTION
.flex {
  &-fill { flex-basis: 100%; }
  &-equal { flex-basis: 0; }
  &-auto { flex-basis: auto; }
}


// PREDEFINED CLASSES
// ------------------
// GROW, SHRINK, AS LARGE AS POSSIBLE
.flex,
.flex-row {
  .flexible { flex: 1 1 auto; }
  .shrinkable { flex: 0 1 auto; }
}


// SHORTHAND CLASSES
// -----------------
// DIRECT MANIUPLATION
.flex_self {
  &-end { justify-self: flex-end; }
  &-start { justify-self: flex-start; }
  &-center { justify-self: center; }
  &-top { align-self: flex-start; }
  &-bottom { align-self: flex-end; }
  &-middle { align-self: center; }
}

// ALIGNMENT
.flex_align {
  &-stretch { align-items: stretch; }
  &-center { align-items: center; }
  &-start { align-items: flex-start; }
  &-end { align-items: flex-end; }
}

// FLEX SPACING
.flex {
  &-distribute { justify-content: space-around;}
  &-spread { justify-content: space-between;}
  &-start { justify-content: flex-start;}
  &-end { justify-content: flex-end;}
}

// FLEX WEIGHT
.flex {
  &-1 { flex: 1 }
  &-2 { flex: 2 }
  &-3 { flex: 3 }
  &-4 { flex: 4 }
  &-5 { flex: 5 }
  &-6 { flex: 6 }
  &-7 { flex: 7 }
  &-8 { flex: 8 }
  &-9 { flex: 9 }
}

// FLEX PERCENT ELEMENTS
.flex {
  &-10 { flex-basis: 10% !important }
  &-15 { flex-basis: 15% !important }
  &-20 { flex-basis: 20% !important }
  &-25 { flex-basis: 25% !important }
  &-30 { flex-basis: 30% !important }
  &-35 { flex-basis: 35% !important }
  &-40 { flex-basis: 40% !important }
  &-45 { flex-basis: 45% !important }
  &-50 { flex-basis: 50% !important }
  &-55 { flex-basis: 55% !important }
  &-60 { flex-basis: 60% !important }
  &-65 { flex-basis: 65% !important }
  &-70 { flex-basis: 70% !important }
  &-75 { flex-basis: 75% !important }
  &-80 { flex-basis: 80% !important }
  &-85 { flex-basis: 85% !important }
  &-90 { flex-basis: 90% !important }
  &-100 { flex-basis: 100% !important }
}


/// TEMPLATES


// FLEX
.flex {
  @include flex();
  // display: flex;

  > * {
    margin-left: 1em;
    margin-right: 1em;
  }
}


// INTENDED FOR A SINGLE ROW OR ITEMS STRETCHING LEFT TO RIGHT
.flex-row {
  @include flex_row();

  &.flex-wrap {
    flex-wrap: wrap;

    > * {
      margin: 0 1em;
      // FIRST AND LAST ARE NO LONGER ROW START AND ROW END
      &:first-child { margin-left: 1em; }
      &:last-child { margin-right: 1em; }
    }
  }
}




//* ---
/// title: Flex Classes
/// section: Layout
/// ---
///
///
/// \*MODIFIER
///
/// __flex-wrap__
///
/// ADDING FLEX WRAP BREAKS THE ROW INTO A GRID AFTER THE CONTAINER
/// REACHES 100%, IT ALSO RESETS THE FIRST AND LAST CHILD MARGINS TO MATCH THE
/// REST OF THE ELEMENTS
///
/// ### flex-col
///
/// CHANGE FLEX DIRECTION FROM ROW TO COLUMN AND ADJUST CHILD PROPERTIES TO PREVENT
/// VERTICAL COLLAPSE
///
/// ### EXTRAS
///
/// | Class | Description |
/// | ----- | ----------- |
/// | flex-item  | Manually add the properties of a flex > child descedant  |
/// | flex_fit   | Force all child nodes to take up space as required (autofit)  |
/// | flex_equal | Force all child nodes to take up the minimum space possible (equal fit) |
/// | flex_none  | This element will not stretch or shrink  |
///
///
//*/


.flex {
  &-item { flex: 0 1 auto; }

  &-item {
    margin: 0 1em;
    &:first-child { margin-left: 0; }
    &:last-child { margin-right: 0; }
  }

  &-fit { > * { flex-basis: 100%; }}
  &-equal { > * { flex-basis: 0; }}

  &-none {
    flex-grow: 0;
    flex-shrink: 0;
  }
}
////*
/// ---
/// title: Display
/// section: Layout
/// ---
///
/// Display Helper Classes
///
/// OVERRIDE ITEMS DISPLAY TYPE
///
/// - display--block  - `block`
/// - display--inline  - `inline`
/// - display--inblock  - `inline-block`
///
/// ITEM VISIBILITY
///
/// - hide - `display: none`
/// - invisible - `visibility: hidden`
///
///*/

.display {
  &--block { display: block; }
  &--inline { display: inline; }
  &--inblock { display: inline-block; }
}

.hide { display: none !important; }
.invisible { visibility: hidden !important; }
