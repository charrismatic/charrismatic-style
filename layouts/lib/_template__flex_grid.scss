// COMPLEX FLEX SYSTEM: 4 COLUMN GRID
// PARENT CONTAINER
@mixin _fl_grid4 {
  display: flex;
  flex-wrap: wrap;
  align-items: stretch;
  justify-content: space-between;

  // GRID DIRCT DESCENDANT -- "GRID ITEM" - CONTAINER
  // 4 ITEMS / ROW -- 1% PADDING - LEFT/RIGHT = 6% TOTAL PADDING
  > * {
    display: flex;
    flex-direction: column;
    flex: 1 1 23.5%;
    max-width: 25%;
    padding: 1em 1% 1em 1%;

    @media (min-width: 850px) {
      // THE FIRST 4 ITEMS MAKE UP THE FIRST 'ROW' - FLUSH TOP
      &:nth-child(-n+4) { padding-top: 0; }
      // ROW FIRST COL - FLUSH LEFT
      &:nth-child(4n+1){ padding-left: 0; }
      // ROW LAST COL - FLUSH RIGHT
      &:nth-child(4n){ padding-right: 0 }
    }

    // GRID SECOND CHILD = GRID ITEM WRAPPER ( CONTENT WRAPPER )
    > *  {
      flex: 1 1 auto;
      width: 100%;
      padding: 0;
      margin: 0.4em 0 0 0;

      // FIRST ELEMENT STICKY TO TOP
      &:first-child {
        flex: 0 0 auto;
        padding: 0 0 .8em 0;
      }

      // LAST ELEMENT STICKY TO BOTTOM
      &:last-child { flex: 0 0 auto; }
    }


    // BREAKS TO 3 COL
    @media (max-width: 850px) {
      & {
        flex-basis: 30%;
        max-width: 33%;
        &:nth-child(-n+3) { padding-top: 0; }
        &:nth-child(3n+1){ padding-left: 0; }
        &:nth-child(4n){ padding-right: 0 }
      }
    }

    // BREAKS TO 2 COL
    @media (max-width: 660px) {
      & {
        flex-basis: 46%;
        max-width: 50%;
        &:nth-child(2n){ margin: 0 0 0 2%; }
        &:nth-child(2n+1){ margin: 0 2% 0 0; }
      }
    }

    // BREAKS TO 1 COL
    @media (max-width: 500px) {
      & {
        flex-grow: 1;
        flex-basis: 100%;
        margin: 0 auto;
      }
    }
  }
}

.template_flex-grid-4 {
  @include _fl_grid4;
}

/// // Result
/// .flex-grid-4 {
///   display: flex;
///   flex-wrap: wrap;
///   align-items: stretch;
///   justify-content: space-between;
/// }
/// .flex-grid-4 > * {
///   display: flex;
///   flex-direction: column;
///   flex: 1 1 23.5%;
///   max-width: 25%;
///   padding: 1em 1% 1em 1%;
/// }
/// @media (min-width: 850px) {
///   .flex-grid-4 > *:nth-child(-n+4) { padding-top: 0; }
///   .flex-grid-4 > *:nth-child(4n+1) { padding-left: 0; }
///   .flex-grid-4 > *:nth-child(4n) { padding-right: 0; }
/// }
/// @media (max-width: 850px) {
///   .flex-grid-4 > * {
///     flex-basis: 30%;
///     max-width: 33%;
///   }
///   .flex-grid-4 > *:nth-child(-n+3) { padding-top: 0; }
///   .flex-grid-4 > *:nth-child(3n+1) { padding-left: 0; }
///   .flex-grid-4 > *:nth-child(4n) { padding-right: 0; }
/// }
/// @media (max-width: 660px) {
///   .flex-grid-4 > * {
///     flex-basis: 46%;
///     max-width: 50%;
///   }
///   .flex-grid-4 > *:nth-child(2n) { margin: 0 0 0 2%; }
///   .flex-grid-4 > *:nth-child(2n+1) { margin: 0 2% 0 0; }
/// }
/// @media (max-width: 500px) {
///   .flex-grid-4 > * {
///     flex-grow: 1;
///     flex-basis: 100%;
///     margin: 0 auto;
///   }
/// .flex-grid-4 > * > * {
///   flex: 1 1 auto;
///   width: 100%;
///   padding: 0;
///   margin: 0.4em 0 0 0;
/// }
/// .flex-grid-4 > * > *:first-child { flex: 0 0 auto; padding: 0 0 .8em 0; }
/// .flex-grid-4 > * > *:last-child { flex: 0 0 auto; }
/// }
